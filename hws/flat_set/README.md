# GDB. Cmake. Tests.
Вам дан проект игрушечного fault-tolerant множества "MiptSet". Этот проект потребуется во всех домашних заданиях, так что приведем краткое описание происходящего.

Журнал - стандартный способ для поддержания консистентности в случае отказа система. Перед тем как выполнять какую-то операцию над структурой данных, информация об операции пишется в журнал, таким образом, если наша программа упала, то мы запросто можем ее восстановить по всем операциям, которые над ней воспроизводились, просто последовательно применив их.

Однако если после падаения мы будем воспроизводить все операции с самого начала, то с каждым падением восстановление будет занимать всё больше времени. Поэтому раз в сколько-то операций мы будем сохранять снэпшот системы. То есть после падаения достаточно будет загрузить последнее сохраненное состояние системы, а затем доприменять последние изменения.

Нашу систему писал совсем неопытный программист и в качестве вашего задания - необходимо доработать эту систему и исправить в ней допущенные баги. Известно, что было допущено как минимум 5 ошибок, в качестве подсказки скажем их классификацию:
* Приводящая к потере данных (consistency failure)
* Приводящая к UB
* Приводящая к потере производительности (2 ошибки)
* Приводяшая к нарушение логики программы

## CMake. Task 1
Чтобы было можно отыскать остальные ошибки необходимо настроить сборку. Ваша задача дописать cmake файлы, которые поддержат корректную сборку проекта. Директория `/mipt` задает библиотеку всего проекта. Она объединяет все модули библиотеки в один так, чтобы эти модули были в изоляции, но при этом пользователь мог иметь к ним доступ. Такой тип линковки в cmake соответствует "Interface".

На этом этапе тесты подключать в сборку нет необходимости. Сама библиотека `mipt` должна линковаться приватно к исполняемому файлу.

После этой задачи уже можно будет запустить проект и с ним поиграться. На первый взгляд может сложиться впечатление, что все работает как надо.

## GDB. Task 2
В случае ошибки с UB нам повезло и у нас есть core dump воспроизведения этого бага. Предлагается по этой корке разобраться в чём ошибка. Тут достаточно написать подробный отчёт и исправить в коде багу, чтобы UB больше не было. Остальные ошибки исправлять не требуется.

## Tests + GDB. Task 3
Чтобы можно было найти, исправить ошибки и развивать проект - необходимо обложить его тестами. Обратите внимание на `/cmake/GoogleTest.cmake`, в нем надо реализовать функцию, которая упростит вам жизнь в подключении тестов. Там используется флаг `--coverage`, который нам пригодится для подсчёта покрытия тестами кода. Реализуйте подключение тестов для журнала и имплементации множества.

Затем стоит заняться написанием тестов и проверки покрытия. Скрипт `coverage.sh` сгенерирует директорию с `index.html`, в котором будет отчет покрытии.

Вам необходимо исправить все баги и добиться максимально возможного по вашему мнению покрытия.
